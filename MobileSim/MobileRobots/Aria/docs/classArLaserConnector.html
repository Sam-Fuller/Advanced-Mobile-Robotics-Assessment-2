<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Aria: ArLaserConnector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>ArLaserConnector Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ArLaserConnector" -->
<p>Connect to robot and laser based on run-time availablitily and command-line arguments.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;ArLaserConnector.h&gt;</code></p>

<p><a href="classArLaserConnector-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class that holds information about the laser data.  <a href="classArLaserConnector_1_1LaserData.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a56f7cd0494ca739b156c7fb40481c154">addLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a laser so parsing will get it.  <a href="#a56f7cd0494ca739b156c7fb40481c154"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a5d3a60cee41aeb9cf635f17e8530b114">addPlaceholderLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *placeholderLaser, int laserNumber=1, bool takeOwnershipOfPlaceholder=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a laser for parsing but where connectLaser will be called later.  <a href="#a5d3a60cee41aeb9cf635f17e8530b114"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a4c0172e40ee96b9675c975aef1bdf571">ArLaserConnector</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser, <a class="el" href="classArRobot.html">ArRobot</a> *robot, <a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *robotConnector, bool autoParseArgs=true, <a class="el" href="classArLog.html#ac8cc0fb3aa323ab2a1c21340fdd1dce3">ArLog::LogLevel</a> infoLogLevel=ArLog::Verbose)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor that takes argument parser.  <a href="#a4c0172e40ee96b9675c975aef1bdf571"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a64a2572b43a50830c91b32cbe2f06377">connectLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1, bool forceConnection=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects the laser synchronously (will take up to a minute).  <a href="#a64a2572b43a50830c91b32cbe2f06377"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8">connectLasers</a> (bool continueOnFailedConnect=false, bool addConnectedLasersToRobot=true, bool addAllLasersToRobot=false, bool turnOnLasers=true, bool powerCycleLaserOnFailedConnect=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects all the lasers the robot has that should be auto connected.  <a href="#a4055a788584ae0bef664563e9b7864c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6beda0c6c5a45092dae687b94110a7f"></a><!-- doxytag: member="ArLaserConnector::getLaser" ref="ae6beda0c6c5a45092dae687b94110a7f" args="(int laserNumber)" -->
<a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#ae6beda0c6c5a45092dae687b94110a7f">getLaser</a> (int laserNumber)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function to get the laser (only useful between parseArgs and connectLasers). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2269b39b5c02bfc2b38eb96fd6c89558"></a><!-- doxytag: member="ArLaserConnector::logOptions" ref="a2269b39b5c02bfc2b38eb96fd6c89558" args="(void) const " -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a2269b39b5c02bfc2b38eb96fd6c89558">logOptions</a> (void) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log the options the simple connector has. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a710b647a8bec2df3ecd07758657648d1">parseArgs</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to parse the arguments given in the constructor.  <a href="#a710b647a8bec2df3ecd07758657648d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#acc9bd203df03476e0e53c00f54539d62">parseArgs</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to parse the arguments given in an arbitrary parser.  <a href="#acc9bd203df03476e0e53c00f54539d62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7508f51488da99dc40d1927f491254d9"></a><!-- doxytag: member="ArLaserConnector::replaceLaser" ref="a7508f51488da99dc40d1927f491254d9" args="(ArLaser *laser, int laserNumber)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a7508f51488da99dc40d1927f491254d9">replaceLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function to replace the laser (only useful between parseArgs and connectLasers) but not the laser data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#afb397c8907a2aef78363fbdc2ac6b0b5">setupLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets up a laser to be connected.  <a href="#afb397c8907a2aef78363fbdc2ac6b0b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aceceb24f39adc2383fe2fd6d4d715994"></a><!-- doxytag: member="ArLaserConnector::~ArLaserConnector" ref="aceceb24f39adc2383fe2fd6d4d715994" args="(void)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#aceceb24f39adc2383fe2fd6d4d715994">~ArLaserConnector</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47b0cb6800a77d7ed7c8c76709c0a51b"></a><!-- doxytag: member="ArLaserConnector::internalConfigureLaser" ref="a47b0cb6800a77d7ed7c8c76709c0a51b" args="(LaserData *laserData)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>internalConfigureLaser</b> (<a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserData)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1beb3dd1ff246bb15e06c99c2a3ebda4"></a><!-- doxytag: member="ArLaserConnector::logLaserOptions" ref="a1beb3dd1ff246bb15e06c99c2a3ebda4" args="(LaserData *laserdata, bool header=true, bool metaOpts=true) const " -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a1beb3dd1ff246bb15e06c99c2a3ebda4">logLaserOptions</a> (<a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserdata, bool header=true, bool metaOpts=true) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Logs the laser command line option help text. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84a3ba2df666ea534f6fd6fb2210e430"></a><!-- doxytag: member="ArLaserConnector::parseLaserArgs" ref="a84a3ba2df666ea534f6fd6fb2210e430" args="(ArArgumentParser *parser, LaserData *laserData)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a84a3ba2df666ea534f6fd6fb2210e430">parseLaserArgs</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser, <a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserData)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses the laser arguments. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af29961b33fd7c8d6744f14eeec8a1e58"></a><!-- doxytag: member="ArLaserConnector::myAutoParseArgs" ref="af29961b33fd7c8d6744f14eeec8a1e58" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAutoParseArgs</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96ddbf68d016c6d599dda5f63b484bd4"></a><!-- doxytag: member="ArLaserConnector::myInfoLogLevel" ref="a96ddbf68d016c6d599dda5f63b484bd4" args="" -->
<a class="el" href="classArLog.html#ac8cc0fb3aa323ab2a1c21340fdd1dce3">ArLog::LogLevel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myInfoLogLevel</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92271f7a0875caea0ee19799052c5396"></a><!-- doxytag: member="ArLaserConnector::myLasers" ref="a92271f7a0875caea0ee19799052c5396" args="" -->
std::map&lt; int, <a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLasers</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5856a6d7bdb8894953f6615e6f9de2a6"></a><!-- doxytag: member="ArLaserConnector::myLaserTypes" ref="a5856a6d7bdb8894953f6615e6f9de2a6" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLaserTypes</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60cce2c5da61b95c6fea2b35ad636432"></a><!-- doxytag: member="ArLaserConnector::myLogOptionsCB" ref="a60cce2c5da61b95c6fea2b35ad636432" args="" -->
<a class="el" href="classArConstFunctorC.html">ArConstFunctorC</a>&lt; <a class="el" href="classArLaserConnector.html">ArLaserConnector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLogOptionsCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04271673aed9a8ce61d1a8ace0c74a0a"></a><!-- doxytag: member="ArLaserConnector::myOwnParser" ref="a04271673aed9a8ce61d1a8ace0c74a0a" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myOwnParser</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb7c5c069df89048dbb891f40fe1fc26"></a><!-- doxytag: member="ArLaserConnector::myParseArgsCB" ref="abb7c5c069df89048dbb891f40fe1fc26" args="" -->
<a class="el" href="classArRetFunctorC.html">ArRetFunctorC</a>&lt; bool, <br class="typebreak"/>
<a class="el" href="classArLaserConnector.html">ArLaserConnector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParseArgsCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb83b4d7e88404486fbb2513287fce50"></a><!-- doxytag: member="ArLaserConnector::myParsedArgs" ref="afb83b4d7e88404486fbb2513287fce50" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParsedArgs</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5547a5d6d85403b0b79b5110aa473fd2"></a><!-- doxytag: member="ArLaserConnector::myParser" ref="a5547a5d6d85403b0b79b5110aa473fd2" args="" -->
<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParser</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acbfb24edb82f2d6007c2ecfa6b5987c1"></a><!-- doxytag: member="ArLaserConnector::myRobot" ref="acbfb24edb82f2d6007c2ecfa6b5987c1" args="" -->
<a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobot</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9421f1f98a9c8e00937cc8ab55fb7a7"></a><!-- doxytag: member="ArLaserConnector::myRobotConnector" ref="ab9421f1f98a9c8e00937cc8ab55fb7a7" args="" -->
<a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobotConnector</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Connect to robot and laser based on run-time availablitily and command-line arguments. </p>
<p><a class="el" href="classArLaserConnector.html" title="Connect to robot and laser based on run-time availablitily and command-line arguments.">ArLaserConnector</a> makes a laser connection either through a serial port connection, or through a TCP port (for the simulator or for robots with Ethernet-serial bridge devices instead of onboard computers). Normally, it first attempts a TCP connection on <em>localhost</em> port 8101, to use a simulator if running. If the simulator is not running, then it normally then connects using the serial port Various connection parameters are configurable through command-line arguments or in the robot parameter file. (Though the internal interface used by ARIA to do this is also available if you need to use it: See <a class="el" href="classArLaserConnector.html#a56f7cd0494ca739b156c7fb40481c154" title="Adds a laser so parsing will get it.">addLaser()</a>; otherwise don't use <a class="el" href="classArLaserConnector.html#a56f7cd0494ca739b156c7fb40481c154" title="Adds a laser so parsing will get it.">addLaser()</a>, <a class="el" href="classArLaserConnector.html#afb397c8907a2aef78363fbdc2ac6b0b5" title="Sets up a laser to be connected.">setupLaser()</a>, etc.).</p>
<p>When you create your <a class="el" href="classArLaserConnector.html" title="Connect to robot and laser based on run-time availablitily and command-line arguments.">ArLaserConnector</a>, pass it command line parameters via either the argc and argv variables from main(), or pass it an <a class="el" href="classArArgumentBuilder.html" title="This class is to build arguments for things that require argc and argv.">ArArgumentBuilder</a> or <a class="el" href="classArArgumentParser.html" title="Class for parsing arguments.">ArArgumentParser</a> object. (<a class="el" href="classArArgumentBuilder.html" title="This class is to build arguments for things that require argc and argv.">ArArgumentBuilder</a> is able to obtain command line parameters from a Windows program that uses WinMain() instead of main()). <a class="el" href="classArLaserConnector.html" title="Connect to robot and laser based on run-time availablitily and command-line arguments.">ArLaserConnector</a> registers a callback with the global <a class="el" href="classAria.html" title="This class performs global initialization and deinitialization.">Aria</a> class. Use <a class="el" href="classAria.html#a1b090c01d88bb420b8cf8e0384d25ee1" title="Parses the arguments for the program (calls all the callbacks added with addParseArgsCB()).">Aria::parseArgs()</a> to parse all command line parameters to the program, and <a class="el" href="classAria.html#a10d71f3d4d0cf7f38c58a1f749f64a42" title="Logs all the options for the program (Calls all the callbacks added with addLogOptionsCB()).">Aria::logOptions()</a> to print out information about all registered command-line parameters.</p>
<p>The following command-line arguments are checked: </p>
<div class="fragment"><pre class="fragment">Laser types and options may also be set in the robot parameter file.  See the
ARIA reference documentation for details.

If a program supports multiple lasers, then options for additional lasers
after the first are given by appending the laser number (e.g. -laserType2)
To enable use of a laser, choose its type with the -laserType&lt;N&gt; options
(e.g.: -laserType lms2xx -laserType2 urg2.0)

The default laser type for the primary laser (laser 1) is specified in the
robot type parameter file in the ARIA "params" directory. For many robots
it is "lms2xx", the SICK LMS200. For some it is "lms1xx", for the SICK
LMS100 or LMS111.

Instruct a program to connect to a laser using the -connectLaser&lt;N&gt; option
or by setting LaserAutoConnect to true in the robot's parameter file.
If a program requires use of a laser it usually always attempts to connect to
the primary laser, however.

The index number is optional in any options for the primary laser; i.e. 1 is
assumed if the index number is omitted.



For laser type "lms2xx" (SICK LMS-200):

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 32000
-laserDegrees &lt;100|180&gt;
-ld &lt;100|180&gt;
-laserIncrement &lt;half|one&gt;
-li &lt;half|one&gt;
-laserUnits &lt;1mm|1cm|10cm&gt;
-lu &lt;1mm|1cm|10cm&gt;
-laserReflectorBits &lt;1ref|2ref|3ref&gt;
-lrb &lt;1ref|2ref|3ref&gt;
-laserPowerControlled &lt;true|false&gt;
-lpc &lt;true|false&gt;
-laserStartingBaud &lt;9600|19200|38400&gt;
-lsb &lt;9600|19200|38400&gt;
-laserAutoBaud &lt;9600|19200|38400&gt;
-lab &lt;9600|19200|38400&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'

For laser type "lms1xx" (SICK LMS-100, LMS-111, etc.):

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 20000
-laserDegreesStart &lt;startAngle&gt;
-lds &lt;startAngle&gt;
	&lt;startAngle&gt; is a double between -135 and 135
-laserDegreesEnd &lt;endAngle&gt;
-lde &lt;endAngle&gt;
	&lt;endAngle&gt; is a double between -135 and 135
-laserIncrement &lt;half|quarter&gt;
-li &lt;half|quarter&gt;
-laserPowerControlled &lt;true|false&gt;
-lpc &lt;true|false&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'

For laser type "urg2.0" (URG with SCIP 2.0):

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 262144
-laserDegreesStart &lt;startAngle&gt;
-lds &lt;startAngle&gt;
	&lt;startAngle&gt; is a double between -180 and 180
-laserDegreesEnd &lt;endAngle&gt;
-lde &lt;endAngle&gt;
	&lt;endAngle&gt; is a double between -180 and 180
-laserIncrementByDegrees &lt;incrementByDegrees&gt;
-libd &lt;incrementByDegrees&gt;
	&lt;incrementByDegrees&gt; is a double between 0 and 180
-laserStartingBaud &lt;0|019200|057600|115200|250000|500000|750000&gt;
-lsb &lt;0|019200|057600|115200|250000|500000|750000&gt;
-laserAutoBaud &lt;0|019200|057600|115200|250000|500000|750000&gt;
-lab &lt;0|019200|057600|115200|250000|500000|750000&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'

For laser type "urg" (URG with old SCIP 1.0):

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 4095
-laserDegreesStart &lt;startAngle&gt;
-lds &lt;startAngle&gt;
	&lt;startAngle&gt; is a double between -135 and 135
-laserDegreesEnd &lt;endAngle&gt;
-lde &lt;endAngle&gt;
	&lt;endAngle&gt; is a double between -135 and 135
-laserIncrementByDegrees &lt;incrementByDegrees&gt;
-libd &lt;incrementByDegrees&gt;
	&lt;incrementByDegrees&gt; is a double between 0 and 135
-laserStartingBaud &lt;019200|057600|115200|250000|500000|750000&gt;
-lsb &lt;019200|057600|115200|250000|500000|750000&gt;
-laserAutoBaud &lt;019200|057600|115200|250000|500000|750000&gt;
-lab &lt;019200|057600|115200|250000|500000|750000&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'
</pre></div><p>To connect to any lasers that were set up in the robot parameter file or via command line arguments, call <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">connectLasers()</a>. If successful, <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">connectLasers()</a> will return true and add an entry for each laser connected in the <a class="el" href="classArRobot.html" title="Central class for communicating with and operating the robot.">ArRobot</a> object's list of lasers. These <a class="el" href="classArLaser.html">ArLaser</a> objects can be accessed from your <a class="el" href="classArRobot.html" title="Central class for communicating with and operating the robot.">ArRobot</a> object via <a class="el" href="classArRobot.html#a6078092b71a4e521bbc8f0cb5c92da46" title="Finds a laser in the robot&#39;s list.">ArRobot::findLaser()</a> or <a class="el" href="classArRobot.html#a62ad0a5f2cc0973f08f8d85bea1d5d7b" title="Gets the range device list.">ArRobot::getLaserMap()</a>.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>2.7.0 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="demo_8cpp-example.html#_a12">demo.cpp</a>, and <a class="el" href="wander_8cpp-example.html#_a5">wander.cpp</a>.</p>
</dd>
</dl><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4c0172e40ee96b9675c975aef1bdf571"></a><!-- doxytag: member="ArLaserConnector::ArLaserConnector" ref="a4c0172e40ee96b9675c975aef1bdf571" args="(ArArgumentParser *parser, ArRobot *robot, ArRobotConnector *robotConnector, bool autoParseArgs=true, ArLog::LogLevel infoLogLevel=ArLog::Verbose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLaserConnector::ArLaserConnector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td>
          <td class="paramname"> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td>
          <td class="paramname"> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *&nbsp;</td>
          <td class="paramname"> <em>robotConnector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autoParseArgs</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArLog.html#ac8cc0fb3aa323ab2a1c21340fdd1dce3">ArLog::LogLevel</a>&nbsp;</td>
          <td class="paramname"> <em>infoLogLevel</em> = <code>ArLog::Verbose</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor that takes argument parser. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>do not delete <em>parser</em> during the lifetime of this <a class="el" href="classArLaserConnector.html" title="Connect to robot and laser based on run-time availablitily and command-line arguments.">ArLaserConnector</a>, which may need to access its contents later.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parser</em>&nbsp;</td><td>the parser with the arguments to parse</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>robot</em>&nbsp;</td><td>the robot these lasers are attached to (or NULL for none)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>robotConnector</em>&nbsp;</td><td>the connector used for connecting to the robot (so we can see if it was a sim or not)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>autoParseArgs</em>&nbsp;</td><td>if this class should autoparse the args if they aren't parsed explicitly</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>infoLogLevel</em>&nbsp;</td><td>The log level for information about creating lasers and such, this is also passed to all the lasers created as their infoLogLevel too </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a56f7cd0494ca739b156c7fb40481c154"></a><!-- doxytag: member="ArLaserConnector::addLaser" ref="a56f7cd0494ca739b156c7fb40481c154" args="(ArLaser *laser, int laserNumber=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::addLaser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="paramname"> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>laserNumber</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a laser so parsing will get it. </p>
<p>Normally adding lasers is done from the .p file, you can use this if you want to add them explicitly in a program (which will override the .p file, and may cause some problems).</p>
<p>This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html" title="Legacy connector for robot and laser.">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">ArLaserConnector::connectLasers</a>.() </p>

</div>
</div>
<a class="anchor" id="a5d3a60cee41aeb9cf635f17e8530b114"></a><!-- doxytag: member="ArLaserConnector::addPlaceholderLaser" ref="a5d3a60cee41aeb9cf635f17e8530b114" args="(ArLaser *placeholderLaser, int laserNumber=1, bool takeOwnershipOfPlaceholder=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::addPlaceholderLaser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="paramname"> <em>placeholderLaser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>laserNumber</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>takeOwnershipOfPlaceholder</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a laser for parsing but where connectLaser will be called later. </p>
<p>Normally adding lasers is done from the .p file, you can use this if you want to add them explicitly in a program (which will override the .p file, and may cause some problems).</p>
<p>This is only for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html" title="Legacy connector for robot and laser.">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">ArLaserConnector::connectLasers()</a>. </p>

</div>
</div>
<a class="anchor" id="a64a2572b43a50830c91b32cbe2f06377"></a><!-- doxytag: member="ArLaserConnector::connectLaser" ref="a64a2572b43a50830c91b32cbe2f06377" args="(ArLaser *laser, int laserNumber=1, bool forceConnection=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::connectLaser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="paramname"> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>laserNumber</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>forceConnection</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects the laser synchronously (will take up to a minute). </p>
<p>This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html" title="Legacy connector for robot and laser.">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">ArLaserConnector::connectLasers()</a>. </p>

</div>
</div>
<a class="anchor" id="a4055a788584ae0bef664563e9b7864c8"></a><!-- doxytag: member="ArLaserConnector::connectLasers" ref="a4055a788584ae0bef664563e9b7864c8" args="(bool continueOnFailedConnect=false, bool addConnectedLasersToRobot=true, bool addAllLasersToRobot=false, bool turnOnLasers=true, bool powerCycleLaserOnFailedConnect=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::connectLasers </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>continueOnFailedConnect</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>addConnectedLasersToRobot</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>addAllLasersToRobot</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>turnOnLasers</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>powerCycleLaserOnFailedConnect</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects all the lasers the robot has that should be auto connected. </p>

<p><p>TODO see if this firmware can actually do the power cycling </p>
</p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="demo_8cpp-example.html#a21">demo.cpp</a>, and <a class="el" href="wander_8cpp-example.html#a20">wander.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="acc9bd203df03476e0e53c00f54539d62"></a><!-- doxytag: member="ArLaserConnector::parseArgs" ref="acc9bd203df03476e0e53c00f54539d62" args="(ArArgumentParser *parser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::parseArgs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td>
          <td class="paramname"> <em>parser</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to parse the arguments given in an arbitrary parser. </p>
<p>Parse command line arguments held by the given <a class="el" href="classArArgumentParser.html" title="Class for parsing arguments.">ArArgumentParser</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the arguments were parsed successfully false if not</dd></dl>
<p>The following arguments are used for the robot connection:</p>
<dl>
<dt><code>-robotPort</code> <em>port</em> </dt>
<dd></dd>
<dt><code>-rp</code> <em>port</em> </dt>
<dd><p class="startdd">Use the given serial port device name for a serial port connection (e.g. <code>COM1</code>, or <code>/dev/ttyS0</code> if on Linux.) The default is the first serial port, or COM1, which is the typical Pioneer setup. </p>
<p>The following arguments are accepted for laser connections. A program may request support for more than one laser using setMaxNumLasers(); if multi-laser support is enabled in this way, then these arguments must have the laser index number appended. For example, "-laserPort" for laser 1 would instead by "-laserPort1", and for laser 2 it would be "-laserPort2".</p>
<dl>
<dt>-laserPort <em>port</em> </dt>
<dd></dd>
<dt>-lp <em>port</em> </dt>
<dd><p class="startdd">Use the given port device name when connecting to a laser. For example, <code>COM2</code> or on Linux, <code>/dev/ttyS1</code>. The default laser port is COM2, which is the typical Pioneer laser port setup. </p>
<p class="enddd"></p>
</dd>
<dt>-laserFlipped <em>true|false</em> </dt>
<dd></dd>
<dt>-lf <em>true|false</em> </dt>
<dd><p class="startdd">If <code>true</code>, then the laser is mounted upside-down on the robot and the ordering of readings should be reversed.</p>
<p class="enddd"></p>
</dd>
<dt>-connectLaser </dt>
<dd></dd>
<dt>-cl </dt>
<dd><p class="startdd">Explicitly request that the client program connect to a laser, if it does not always do so</p>
<p class="enddd"></p>
</dd>
<dt>-laserPowerControlled <em>true|false</em> </dt>
<dd></dd>
<dt>-lpc <em>true|false</em> </dt>
<dd><p class="startdd">If <code>true</code>, then the laser is powered on when the serial port is initially opened, so enable certain features when connecting such as a waiting period as the laser initializes.</p>
<p class="enddd"></p>
</dd>
<dt>-laserDegrees <em>degrees</em> </dt>
<dd></dd>
<dt>-ld <em>degrees</em> </dt>
<dd><p class="startdd">Indicate the size of the laser field of view, either <code>180</code> (default) or <code>100</code>.</p>
<p class="enddd"></p>
</dd>
<dt>-laserIncrement <em>increment</em> </dt>
<dd></dd>
<dt>-li <em>increment</em> </dt>
<dd><p class="startdd">Configures the laser's angular resolution. If <code>one</code>, then configure the laser to take a reading every degree. If <code>half</code>, then configure it for a reading every 1/2 degrees.</p>
<p class="enddd"></p>
</dd>
<dt>-laserUnits <em>units</em> </dt>
<dd></dd>
<dt>-lu <em>units</em> </dt>
<dd><p class="startdd">Configures the laser's range resolution. May be 1mm for one milimiter, 1cm for ten milimeters, or 10cm for one hundred milimeters.</p>
<p class="enddd"></p>
</dd>
<dt>-laserReflectorBits <em>bits</em> </dt>
<dd></dd>
<dt>-lrb <em>bits</em> </dt>
<dd>Enables special reflectance detection, and configures the granularity of reflector detection information. Using more bits allows the laser to provide values for several different reflectance levels, but also may force a reduction in range. (Note, the SICK LMS-200 only detects high reflectance on special reflector material manufactured by SICK.)  </dd>
</dl>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a710b647a8bec2df3ecd07758657648d1"></a><!-- doxytag: member="ArLaserConnector::parseArgs" ref="a710b647a8bec2df3ecd07758657648d1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::parseArgs </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to parse the arguments given in the constructor. </p>
<p>Parse command line arguments using the <a class="el" href="classArArgumentParser.html" title="Class for parsing arguments.">ArArgumentParser</a> given in the <a class="el" href="classArLaserConnector.html" title="Connect to robot and laser based on run-time availablitily and command-line arguments.">ArLaserConnector</a> constructor.</p>
<p>See <a class="el" href="classArLaserConnector.html#acc9bd203df03476e0e53c00f54539d62" title="Function to parse the arguments given in an arbitrary parser.">parseArgs(ArArgumentParser*)</a> for details about argument parsing.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the arguments were parsed successfully false if not </dd></dl>

</div>
</div>
<a class="anchor" id="afb397c8907a2aef78363fbdc2ac6b0b5"></a><!-- doxytag: member="ArLaserConnector::setupLaser" ref="afb397c8907a2aef78363fbdc2ac6b0b5" args="(ArLaser *laser, int laserNumber=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLaserConnector::setupLaser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="paramname"> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>laserNumber</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets up a laser to be connected. </p>
<p>This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html" title="Legacy connector for robot and laser.">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4055a788584ae0bef664563e9b7864c8" title="Connects all the lasers the robot has that should be auto connected.">ArLaserConnector::connectLasers()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ArLaserConnector.h</li>
<li>ArLaserConnector.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Aug 23 2011 16:44:28 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
