<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Aria: ArRobotPacketReceiver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>ArRobotPacketReceiver Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ArRobotPacketReceiver" -->
<p>Given a device connection it receives packets from the robot through it.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;ArRobotPacketReceiver.h&gt;</code></p>

<p><a href="classArRobotPacketReceiver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#ad977f81f61fa0424e6629c0d69703ce8">ArRobotPacketReceiver</a> (bool allocatePackets=false, unsigned char sync1=0xfa, unsigned char sync2=0xfb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor without an already assigned device connection.  <a href="#ad977f81f61fa0424e6629c0d69703ce8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#a7300c31a57c8d270840c60ca2dc30db8">ArRobotPacketReceiver</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *deviceConnection, bool allocatePackets=false, unsigned char sync1=0xfa, unsigned char sync2=0xfb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor with assignment of a device connection.  <a href="#a7300c31a57c8d270840c60ca2dc30db8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3dd0d6c6429dedc43019e0a160e4e9a"></a><!-- doxytag: member="ArRobotPacketReceiver::getDeviceConnection" ref="ab3dd0d6c6429dedc43019e0a160e4e9a" args="(void)" -->
<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#ab3dd0d6c6429dedc43019e0a160e4e9a">getDeviceConnection</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the device this instance receives packets from. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dadbd27727230ee03a2f32a6bf4110c"></a><!-- doxytag: member="ArRobotPacketReceiver::isAllocatingPackets" ref="a2dadbd27727230ee03a2f32a6bf4110c" args="(void)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#a2dadbd27727230ee03a2f32a6bf4110c">isAllocatingPackets</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets whether or not the receiver is allocating packets. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArRobotPacket.html">ArRobotPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#ac6507210fc1ff98c0fbe565133b4fa8a">receivePacket</a> (unsigned int msWait=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receives a packet from the robot if there is one available.  <a href="#ac6507210fc1ff98c0fbe565133b4fa8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a3134bab0053f5b47a58ad2bf7bbb52"></a><!-- doxytag: member="ArRobotPacketReceiver::setDeviceConnection" ref="a8a3134bab0053f5b47a58ad2bf7bbb52" args="(ArDeviceConnection *deviceConnection)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#a8a3134bab0053f5b47a58ad2bf7bbb52">setDeviceConnection</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *deviceConnection)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device this instance receives packets from. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca786108e4a81824e1dbdbad9e783e01"></a><!-- doxytag: member="ArRobotPacketReceiver::~ArRobotPacketReceiver" ref="aca786108e4a81824e1dbdbad9e783e01" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketReceiver.html#aca786108e4a81824e1dbdbad9e783e01">~ArRobotPacketReceiver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>STATE_SYNC1</b>, 
<b>STATE_SYNC2</b>, 
<b>STATE_ACQUIRE_DATA</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed4609a946ef98f92bbe31dcec18a1b1"></a><!-- doxytag: member="ArRobotPacketReceiver::myAllocatePackets" ref="aed4609a946ef98f92bbe31dcec18a1b1" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAllocatePackets</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a181e24921c72f791df3f288ffacc385e"></a><!-- doxytag: member="ArRobotPacketReceiver::myDeviceConn" ref="a181e24921c72f791df3f288ffacc385e" args="" -->
<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myDeviceConn</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add6a690af51fa9ed1a9f9f0c4697bb7b"></a><!-- doxytag: member="ArRobotPacketReceiver::myPacket" ref="add6a690af51fa9ed1a9f9f0c4697bb7b" args="" -->
<a class="el" href="classArRobotPacket.html">ArRobotPacket</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPacket</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0959b827aff3b9aae5a128ab35c130af"></a><!-- doxytag: member="ArRobotPacketReceiver::mySync1" ref="a0959b827aff3b9aae5a128ab35c130af" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySync1</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0f7be9d2436305089e39b71dd30af3e"></a><!-- doxytag: member="ArRobotPacketReceiver::mySync2" ref="ab0f7be9d2436305089e39b71dd30af3e" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySync2</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Given a device connection it receives packets from the robot through it. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad977f81f61fa0424e6629c0d69703ce8"></a><!-- doxytag: member="ArRobotPacketReceiver::ArRobotPacketReceiver" ref="ad977f81f61fa0424e6629c0d69703ce8" args="(bool allocatePackets=false, unsigned char sync1=0xfa, unsigned char sync2=0xfb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArRobotPacketReceiver::ArRobotPacketReceiver </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allocatePackets</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>sync1</em> = <code>0xfa</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>sync2</em> = <code>0xfb</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor without an already assigned device connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>allocatePackets</em>&nbsp;</td><td>whether to allocate memory for the packets before returning them (true) or to just return a pointer to an internal packet (false)... most everything should use false as this will help prevent many memory leaks or corruptions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync1</em>&nbsp;</td><td>first byte of the header this receiver will receive, this should be left as the default in nearly all cases, ie don't mess with it </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync2</em>&nbsp;</td><td>second byte of the header this receiver will receive, this should be left as the default in nearly all cases, ie don't mess with it </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7300c31a57c8d270840c60ca2dc30db8"></a><!-- doxytag: member="ArRobotPacketReceiver::ArRobotPacketReceiver" ref="a7300c31a57c8d270840c60ca2dc30db8" args="(ArDeviceConnection *deviceConnection, bool allocatePackets=false, unsigned char sync1=0xfa, unsigned char sync2=0xfb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArRobotPacketReceiver::ArRobotPacketReceiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td>
          <td class="paramname"> <em>deviceConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allocatePackets</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>sync1</em> = <code>0xfa</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>sync2</em> = <code>0xfb</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor with assignment of a device connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceConnection</em>&nbsp;</td><td>the connection which the receiver will use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>allocatePackets</em>&nbsp;</td><td>whether to allocate memory for the packets before returning them (true) or to just return a pointer to an internal packet (false)... most everything should use false as this will help prevent many memory leaks or corruptions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync1</em>&nbsp;</td><td>first byte of the header this receiver will receive, this should be left as the default in nearly all cases, ie don't mess with it </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync2</em>&nbsp;</td><td>second byte of the header this receiver will receive, this should be left as the default in nearly all cases, ie don't mess with it </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac6507210fc1ff98c0fbe565133b4fa8a"></a><!-- doxytag: member="ArRobotPacketReceiver::receivePacket" ref="ac6507210fc1ff98c0fbe565133b4fa8a" args="(unsigned int msWait=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArRobotPacket.html">ArRobotPacket</a> * ArRobotPacketReceiver::receivePacket </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>msWait</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receives a packet from the robot if there is one available. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msWait</em>&nbsp;</td><td>how long to block for the start of a packet, nonblocking if 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL if there are no packets in alloted time, otherwise a pointer to the packet received, if allocatePackets is true than the place that called this function owns the packet and should delete the packet when done... if allocatePackets is false then nothing must store a pointer to this packet, the packet must be used and done with by the time this method is called again </dd></dl>

<p><p>this case can't happen since c can't be over that so taking it out if (c &gt; 255) { <a class="el" href="classArLog.html#a43a8b3789126c818f390f24bdbceccce" title="Log a message, with formatting and variable number of arguments.">ArLog::log</a>(<a class="el" href="classArLog.html#ac8cc0fb3aa323ab2a1c21340fdd1dce3a7040faf60eeb155eaa85d439b1066ca1" title="Use normal logging.">ArLog::Normal</a>, "ArRobotPacketReceiver::receivePacket: bad packet, more than 255 bytes"); state = STATE_SYNC1; break; }</p>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ArRobotPacketReceiver.h</li>
<li>ArRobotPacketReceiver.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Aug 23 2011 16:44:30 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
